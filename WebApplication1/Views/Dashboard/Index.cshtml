@{
    ViewData["Title"] = "Dashboard";
}
<div class="cards">
    <div class="card-kpi kpi-1">
        <div class="kpi-top">
            <div class="kpi-icon"><i class="bi bi-stopwatch"></i></div>
            <div class="kpi-amount">$ 11,256</div>
        </div>
        <div class="kpi-label">Today's Revenue</div>
    </div>
    <div class="card-kpi kpi-2">
        <div class="kpi-top">
            <div class="kpi-icon"><i class="bi bi-bag-check"></i></div>
            <div class="kpi-amount">245</div>
        </div>
        <div class="kpi-label">Today's Order</div>
    </div>
    <div class="card-kpi kpi-3">
        <div class="kpi-top">
            <div class="kpi-icon"><i class="bi bi-wallet2"></i></div>
            <div class="kpi-amount">$ 6,556</div>
        </div>
        <div class="kpi-label">Avg. Expense</div>
    </div>
    <div class="card-kpi kpi-4">
        <div class="kpi-top">
            <div class="kpi-icon"><i class="bi bi-cash-coin"></i></div>
            <div class="kpi-amount">$ 4,227</div>
        </div>
        <div class="kpi-label">Avg. Revenue</div>
    </div>
</div>

<div class="grid-2">
    <!-- Sales details (doughnut + legend) -->
    <div class="panel">
        <div class="panel-header">
            <div>
                <div class="panel-title">Sales Details</div>
                <div class="panel-sub">February, 2025</div>
            </div>
            <div class="dropdown">
                <button class="btn btn-sm btn-outline-secondary dropdown-toggle" data-bs-toggle="dropdown">Monthly</button>
                <ul class="dropdown-menu dropdown-menu-dark">
                    <li><a class="dropdown-item" href="#">Daily</a></li>
                    <li><a class="dropdown-item" href="#">Weekly</a></li>
                    <li><a class="dropdown-item" href="#">Monthly</a></li>
                </ul>
            </div>
        </div>

        <div class="row g-0">
            <div class="col-7 p-2">
                <canvas id="salesDoughnut" height="140"></canvas>
            </div>
            <div class="col-5 p-2">
                <div class="legend">
                    <div class="legend-item"><span class="legend-dot" style="background:#ff7b7b"></span> Total Order 35%</div>
                    <div class="legend-item"><span class="legend-dot" style="background:#a88cff"></span> Running order 22%</div>
                    <div class="legend-item"><span class="legend-dot" style="background:#35d39a"></span> Customer Growth 26%</div>
                    <div class="legend-item"><span class="legend-dot" style="background:#6fa8ff"></span> Total Revenue 17%</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Order chart (bar) -->
    <div class="panel">
        <div class="panel-header">
            <div class="panel-title">Order Chart</div>
            <div class="dropdown">
                <button class="btn btn-sm btn-outline-secondary dropdown-toggle" data-bs-toggle="dropdown">Weekly</button>
                <ul class="dropdown-menu dropdown-menu-dark">
                    <li><a class="dropdown-item" href="#">Daily</a></li>
                    <li><a class="dropdown-item" href="#">Weekly</a></li>
                    <li><a class="dropdown-item" href="#">Monthly</a></li>
                </ul>
            </div>
        </div>
        <canvas id="ordersBar" height="130"></canvas>
    </div>
</div>

<!-- Trending -->
<div class="panel">
    <div class="panel-header">
        <div class="panel-title">Trending Orders</div>
        <div class="panel-sub">Top picks today</div>
    </div>
    <div class="trending">
        <div class="trend-card">
            <img src="https://images.unsplash.com/photo-1544025162-d76694265947?q=80&w=1200&auto=format&fit=crop" />
            <div class="meta">
                <span>Chicken Pot Pie</span>
                <span>Price : $299</span>
            </div>
        </div>
        <div class="trend-card">
            <img src="https://images.unsplash.com/photo-1551218808-94e220e084d2?q=80&w=1200&auto=format&fit=crop" />
            <div class="meta">
                <span>Massed Salad</span>
                <span>Price : $245</span>
            </div>
        </div>
        <div class="trend-card">
            <img src="https://images.unsplash.com/photo-1540189549336-e6e99c3679fe?q=80&w=1200&auto=format&fit=crop" />
            <div class="meta">
                <span>Rice toppings</span>
                <span>Price : $225</span>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        // Doughnut
        const doughnutCtx = document.getElementById('salesDoughnut');
        new Chart(doughnutCtx, {
            type: 'doughnut',
            data: {
                labels: ['Total Order', 'Running order', 'Customer Growth', 'Total Revenue'],
                datasets: [{
                    data: [35, 22, 26, 17],
                    backgroundColor: ['#ff7b7b','#a88cff','#35d39a','#6fa8ff'],
                    borderWidth: 0,
                    cutout: '70%'
                }]
            },
            options: {
                plugins: {
                    legend: { display:false },
                    tooltip: { enabled:true }
                }
            }
        });

        // Bars
        const barCtx = document.getElementById('ordersBar');
        new Chart(barCtx, {
            type: 'bar',
            data: {
                labels: ['Sat','Sun','Mon','Tue','Wed','Thu','Fri'],
                datasets: [{
                    label: 'Orders',
                    data: [160, 190, 220, 265, 210, 170, 150],
                    borderRadius: 8
                }]
            },
            options: {
                scales: {
                    x: { grid: { display:false }, ticks:{ color:'#9aa0a6' } },
                    y: { grid: { color:'#22262f' }, ticks:{ color:'#9aa0a6' }, beginAtZero:true, suggestedMax:300 }
                },
                plugins: { legend:{ display:false } }
            }
        });
    </script>
}
